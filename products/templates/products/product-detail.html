{% extends "base.html" %}
{% load static %}

{% block content %}

<div id="product-detail" class="row">
  <div id="product-detail-img" class="col s6">
    {% if product.image %}
    <a href="{{ product.image.url }}" target="_blank">
      <img class="card-img-top img-fluid" src="{{ product.image.url }}" alt="{{ product.name }}">
    </a>
    {% else %}
    <a href="">
      <img class="card-img-top img-fluid" src="{{ MEDIA_URL }}noimage.png" alt="{{ product.name }}">
    </a>
    {% endif %}
  </div>
  <div id="product-detail-name" class="col s6">
    <h3>{{ product.name }}</h3>
    <h5>Â£{{ product.price }}</h5>
    <p>{{ product.description }}</p>
    {% if product.category %}
    <p>
      <a href="{% url 'products' %}?category={{ product.category.name }}">{{ product.category.friendly_name }}
      </a>
    </p>
    <form  class="form" action="{% url 'add_to_cart' product.id %}" method="POST">
      {% csrf_token %}
      <p>Quantity</p>
      <input type="number" name="quantity" value="1" min="1" max="99" data-item_id="{{ product.id }}"
        id="id_qty_{{ product.id }}">
      <input type="submit" class="" value="Add to Bag">
      <a href="{% url 'products' %}" class="">
        <span class="icon">
          <i class="fas fa-chevron-left"></i>
        </span>
        <span class="text-uppercase">Keep Shopping</span>
        <input type="hidden" name="redirect_url" value="{{ request.path }}">
      </a>
    </form>
    {% endif %}
  </div>
</div>

{% endblock %}